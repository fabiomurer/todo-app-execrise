<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" type="text/css" href="/css/bootstrap.min.css" />
  <link rel="stylesheet" type="text/css" href="/bootstrap-icons.min.css" />
  <title>Todo List</title>
</head>

<body>
  <div style="background-image: linear-gradient(140deg, #EADEDB 0%, #BC70A4 50%, #BFD641 75%); width: 100vw; min-height: 100vh;">
    <div class="row" style="height: 4em;"></div>
    <div class="d-flex justify-content-center"><h1>Todo List</h1></div>
    <div class="d-flex justify-content-center">
      <form method="post" action="/" id="form-content">
        <div class="row g-3 align-items-center">
          <div class="col-auto">
            <label for="floatingTextarea1" class="col-form-label">New Todo</label>
          </div>
          <div class="col-auto">
            <input type="text" class="form-control" name="todo" placeholder="rilassarmi" id="floatingTextarea1">
          </div>
          <div class="col-auto">
            <button type="submit" class="btn btn-success"><i class="bi bi-plus-square"></i></button>
          </div>
        </div>
      </form>
    </div>
    <div class="row" style="height: 2em;"></div>
    <div class="d-flex justify-content-center">
      <ul class="list-group">
        <% todos.forEach(todo=> { if (!todo.done) {%>
          <li class="list-group-item align-items-center" style="min-width: 400px;">
            <div class="row g-2">
              <div class="col-auto"><p><%= todo.todo %></p></div>
              <div class="col-auto ms-auto">
                <div class="btn-group" role="group">
                <form action="/todos/done/<%= todo._id %>" method="post">
                  <button type="submit" class="btn btn-success"><i class="bi bi-check-square"></i></i></button>
                </form>
                <form action="/todos/delete/<%= todo._id %>" method="post">
                  <button type="submit" class="btn btn-danger"><i class="bi bi-trash"></i></button>
                </form>
                </div>
              </div>
            </div> 
          </li>
          <% }}); %>
      </ul>
    </div>

    <div class="row" style="height: 2em;"></div>
    <div class="d-flex justify-content-center"><h3>Done</h3></div>
    <div class="d-flex justify-content-center">
      <ul class="list-group">
        <% todos.forEach(todo=> { if (todo.done) {%>
          <li class="list-group-item align-items-center" style="min-width: 400px;">
            <div class="row g-2">
              <div class="col-auto"><p><%= todo.todo %></p></div>
              <div class="col-auto ms-auto">
                <div class="btn-group" role="group">
                <form action="/todos/undone/<%= todo._id %>" method="post">
                  <button type="submit" class="btn btn-secondary"><i class="bi bi-x-lg"></i></button>
                </form>
                </div>
              </div>
            </div> 
          </li>
          <% }}); %>
      </ul>
    </div>
  </div>
  <script src="/js/bootstrap.js"></script>
</body>

</html>